---
layout: default
---

<article class="hex-content">
  <header class="hex-header">
    <h1>{{ page.title }}</h1>
    <div class="hex-meta">
      <span class="hex-id">Hex {{ page.hex_id }}</span>
      <span class="hex-terrain terrain-{{ page.terrain_type | downcase | replace: ' ', '-' }}">{{ page.terrain_type | capitalize }}</span>
      <span class="hex-region">{{ page.region }}</span>
    </div>
  </header>

  {% if page.environment %}
  <section class="stat-block environment-stat-block">
    <header class="stat-block-header">
      <h2>{{ page.environment.name }}</h2>
      <div class="stat-block-meta">
        <span class="env-tier">Tier {{ page.environment.tier }}</span>
        <span class="env-type">{{ page.environment.type }}</span>
        <span class="env-difficulty">Difficulty {{ page.environment.difficulty }}</span>
      </div>
    </header>

    <p class="env-description">{{ page.environment.description }}</p>

    {% if page.environment.impulses and page.environment.impulses.size > 0 %}
    <div class="stat-row">
      <span class="stat-label">Impulses:</span>
      <span class="stat-value">{{ page.environment.impulses | join: "; " }}</span>
    </div>
    {% endif %}

    {% if page.environment.potential_adversaries and page.environment.potential_adversaries.size > 0 %}
    <div class="stat-row">
      <span class="stat-label">Potential Adversaries:</span>
      <span class="stat-value">{{ page.environment.potential_adversaries | join: ", " }}</span>
    </div>
    {% endif %}

    {% if page.environment.features and page.environment.features.size > 0 %}
    <div class="features-section">
      <h3>Features</h3>
      {% for feature in page.environment.features %}
      <div class="feature feature-{{ feature.type | downcase }}">
        <div class="feature-header">
          <span class="feature-name">{{ feature.name }}</span>
          <span class="feature-type">{{ feature.type }}</span>
          {% if feature.fear_cost %}
          <span class="feature-cost">Fear {{ feature.fear_cost }}</span>
          {% endif %}
        </div>
        <p class="feature-description">{{ feature.description }}</p>
        {% if feature.questions and feature.questions.size > 0 %}
        <div class="feature-questions">
          {% for question in feature.questions %}
          <em>{{ question }}</em>{% unless forloop.last %} {% endunless %}
          {% endfor %}
        </div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% endif %}
  </section>
  {% endif %}

  {% if page.encounters and page.encounters.size > 0 %}
  <section class="hex-encounters">
    <h2>Encounters</h2>
    {% for encounter in page.encounters %}
    <div class="encounter-card">
      <h3>{{ encounter.name }}</h3>
      {% if encounter.fear %}
      <div class="outcome fear">
        <span class="outcome-label">Fear:</span>
        <span class="outcome-text">{{ encounter.fear }}</span>
      </div>
      {% endif %}
      {% if encounter.hope %}
      <div class="outcome hope">
        <span class="outcome-label">Hope:</span>
        <span class="outcome-text">{{ encounter.hope }}</span>
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </section>
  {% endif %}

  {% if page.factions and page.factions.size > 0 %}
  <section class="hex-factions">
    <h2>Factions</h2>
    {% for faction in page.factions %}
    <div class="faction-card">
      <h3>{{ faction.name }}</h3>
      <p>{{ faction.description }}</p>
    </div>
    {% endfor %}
  </section>
  {% endif %}

  {% if page.points_of_interest and page.points_of_interest.size > 0 %}
  <section class="hex-poi">
    <h2>Points of Interest</h2>
    <ul>
      {% for poi in page.points_of_interest %}
      <li>{{ poi }}</li>
      {% endfor %}
    </ul>
  </section>
  {% endif %}

  {% if page.npcs and page.npcs.size > 0 %}
  <section class="hex-npcs">
    <h2>NPCs</h2>
    {% for npc in page.npcs %}
    <div class="npc-card">
      <h3>{{ npc.name }}</h3>
      {% if npc.role %}<p class="npc-role">{{ npc.role }}</p>{% endif %}
      {% if npc.description %}<p>{{ npc.description }}</p>{% endif %}
    </div>
    {% endfor %}
  </section>
  {% endif %}

  {% if page.adventure_sites and page.adventure_sites.size > 0 %}
  <section class="hex-adventure-sites">
    <h2>Adventure Sites</h2>
    {% for site in page.adventure_sites %}
    <div class="adventure-site-card">
      <h3>{{ site.name }}</h3>
      <p>{{ site.description }}</p>
    </div>
    {% endfor %}
  </section>
  {% endif %}

  {% if page.tags and page.tags.size > 0 %}
  <footer class="hex-tags">
    {% for tag in page.tags %}
    <span class="tag">{{ tag }}</span>
    {% endfor %}
  </footer>
  {% endif %}
</article>
